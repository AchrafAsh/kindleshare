{"ast":null,"code":"import _classCallCheck from\"/home/achraf/Documents/Coding/kindleshare/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/achraf/Documents/Coding/kindleshare/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/achraf/Documents/Coding/kindleshare/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/achraf/Documents/Coding/kindleshare/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/achraf/Documents/Coding/kindleshare/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Modal,ModalBody,ModalFooter,InputGroup,InputGroupButtonDropdown,Input,Button,DropdownToggle,DropdownMenu,DropdownItem}from'reactstrap';var NewPostModal=/*#__PURE__*/function(_Component){_inherits(NewPostModal,_Component);function NewPostModal(){var _getPrototypeOf2;var _this;_classCallCheck(this,NewPostModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(NewPostModal)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={modal:false,bookDropdownOpen:false,highlightDropdownOpen:false,bookToShare:null,highlightToShare:\"\",comment:\"\"};_this.openPostModal=function(){_this.setState({modal:!_this.state.modal});};_this.toggleBookDropDown=function(){_this.setState({bookDropdownOpen:!_this.state.bookDropdownOpen});};_this.toggleHighlightDropDown=function(){_this.setState({highlightDropdownOpen:!_this.state.highlightDropdownOpen});};_this.handleCommentChange=function(e){_this.setState({comment:e.target.value});};_this.handleSubmit=function(e){e.preventDefault();// send the post to database!\nvar newPost={username:_this.props.user.name,book_id:_this.state.bookToShare.book_id,highlight_author:_this.state.bookToShare.author,highlight:_this.state.highlightToShare,comment:_this.state.comment};_this.props.addPost(newPost);_this.setState({bookToShare:null,highlightToShare:\"\",comment:\"\",modal:false});console.log(newPost);};return _this;}_createClass(NewPostModal,[{key:\"render\",value:function render(){var _this2=this;var books=this.props.books;var _this$state=this.state,bookToShare=_this$state.bookToShare,highlightToShare=_this$state.highlightToShare;return React.createElement(\"div\",null,React.createElement(Button,{color:\"warning\",onClick:this.openPostModal},\"Share insight\"),React.createElement(Modal,{isOpen:this.state.modal,toggle:this.openPostModal},React.createElement(ModalBody,null,React.createElement(\"blockquote\",null,bookToShare?React.createElement(\"div\",null,React.createElement(\"p\",{className:\"highlight\"},highlightToShare),React.createElement(\"footer\",null,\"- \",bookToShare.author)):null),React.createElement(Input,{onChange:this.handleCommentChange,value:this.state.comment,placeholder:\"Share your thoughts...\"})),React.createElement(ModalFooter,null,React.createElement(InputGroup,null,React.createElement(InputGroupButtonDropdown,{addonType:\"append\",isOpen:this.state.bookDropdownOpen,toggle:this.toggleBookDropDown},React.createElement(DropdownToggle,{caret:true},\"Choose a Book\"),React.createElement(DropdownMenu,{className:\"drop-down-menu\"},books.map(function(book){return React.createElement(DropdownItem,{onClick:function onClick(){return _this2.setState({bookToShare:book});},key:book.book_id},book.title);}))),React.createElement(Input,{readOnly:true,value:bookToShare?bookToShare.title:\"\"})),React.createElement(InputGroup,null,React.createElement(InputGroupButtonDropdown,{addonType:\"append\",isOpen:this.state.highlightDropdownOpen,toggle:this.toggleHighlightDropDown},React.createElement(DropdownToggle,{caret:true},\"Choose a Highlight\"),React.createElement(DropdownMenu,{className:\"drop-down-menu\"},bookToShare?bookToShare.highlights.map(function(highlight,index){return React.createElement(DropdownItem,{key:index,onClick:function onClick(){return _this2.setState({highlightToShare:highlight});}},highlight);}):React.createElement(DropdownItem,{disabled:true},\"Choose a book first\"))),React.createElement(Button,{className:\"ml-3\",onClick:this.handleSubmit,color:\"secondary\"},\"Share\")))));}}]);return NewPostModal;}(Component);export default NewPostModal;","map":{"version":3,"sources":["/home/achraf/Documents/Coding/kindleshare/client/src/components/home/NewPostModal.js"],"names":["React","Component","Modal","ModalBody","ModalFooter","InputGroup","InputGroupButtonDropdown","Input","Button","DropdownToggle","DropdownMenu","DropdownItem","NewPostModal","state","modal","bookDropdownOpen","highlightDropdownOpen","bookToShare","highlightToShare","comment","openPostModal","setState","toggleBookDropDown","toggleHighlightDropDown","handleCommentChange","e","target","value","handleSubmit","preventDefault","newPost","username","props","user","name","book_id","highlight_author","author","highlight","addPost","console","log","books","map","book","title","highlights","index"],"mappings":"6pBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OACIC,KADJ,CAEIC,SAFJ,CAGIC,WAHJ,CAIIC,UAJJ,CAKIC,wBALJ,CAMIC,KANJ,CAOIC,MAPJ,CAQIC,cARJ,CASIC,YATJ,CAUIC,YAVJ,KAWU,YAXV,C,GAaMC,CAAAA,Y,uZACFC,K,CAAQ,CACJC,KAAK,CAAE,KADH,CAEJC,gBAAgB,CAAE,KAFd,CAGJC,qBAAqB,CAAE,KAHnB,CAIJC,WAAW,CAAE,IAJT,CAKJC,gBAAgB,CAAE,EALd,CAMJC,OAAO,CAAE,EANL,C,OASRC,a,CAAgB,UAAM,CAClB,MAAKC,QAAL,CAAc,CAAEP,KAAK,CAAE,CAAC,MAAKD,KAAL,CAAWC,KAArB,CAAd,EACH,C,OAEDQ,kB,CAAqB,UAAM,CACvB,MAAKD,QAAL,CAAc,CAAEN,gBAAgB,CAAE,CAAC,MAAKF,KAAL,CAAWE,gBAAhC,CAAd,EACH,C,OACDQ,uB,CAA0B,UAAM,CAC5B,MAAKF,QAAL,CAAc,CAAEL,qBAAqB,CAAE,CAAC,MAAKH,KAAL,CAAWG,qBAArC,CAAd,EACH,C,OAEDQ,mB,CAAsB,SAAAC,CAAC,CAAI,CACvB,MAAKJ,QAAL,CAAc,CAAEF,OAAO,CAAEM,CAAC,CAACC,MAAF,CAASC,KAApB,CAAd,EACH,C,OAEDC,Y,CAAe,SAAAH,CAAC,CAAI,CAChBA,CAAC,CAACI,cAAF,GACA;AACA,GAAMC,CAAAA,OAAO,CAAG,CACZC,QAAQ,CAAE,MAAKC,KAAL,CAAWC,IAAX,CAAgBC,IADd,CAEZC,OAAO,CAAE,MAAKtB,KAAL,CAAWI,WAAX,CAAuBkB,OAFpB,CAGZC,gBAAgB,CAAE,MAAKvB,KAAL,CAAWI,WAAX,CAAuBoB,MAH7B,CAIZC,SAAS,CAAE,MAAKzB,KAAL,CAAWK,gBAJV,CAKZC,OAAO,CAAE,MAAKN,KAAL,CAAWM,OALR,CAAhB,CAOA,MAAKa,KAAL,CAAWO,OAAX,CAAmBT,OAAnB,EAEA,MAAKT,QAAL,CAAc,CACVJ,WAAW,CAAE,IADH,CAEVC,gBAAgB,CAAE,EAFR,CAGVC,OAAO,CAAE,EAHC,CAIVL,KAAK,CAAE,KAJG,CAAd,EAMA0B,OAAO,CAACC,GAAR,CAAYX,OAAZ,EACH,C,+EAEO,iBACJ,GAAMY,CAAAA,KAAK,CAAG,KAAKV,KAAL,CAAWU,KAAzB,CADI,gBAEsC,KAAK7B,KAF3C,CAEII,WAFJ,aAEIA,WAFJ,CAEiBC,gBAFjB,aAEiBA,gBAFjB,CAGJ,MACA,gCACI,oBAAC,MAAD,EAAQ,KAAK,CAAC,SAAd,CAAwB,OAAO,CAAE,KAAKE,aAAtC,kBADJ,CAEI,oBAAC,KAAD,EAAO,MAAM,CAAE,KAAKP,KAAL,CAAWC,KAA1B,CAAiC,MAAM,CAAE,KAAKM,aAA9C,EAEI,oBAAC,SAAD,MACQ,sCACMH,WAAW,CACT,+BACI,yBAAG,SAAS,CAAC,WAAb,EAA0BC,gBAA1B,CADJ,CAEI,uCAAWD,WAAW,CAACoB,MAAvB,CAFJ,CADS,CAKP,IANV,CADR,CASI,oBAAC,KAAD,EAAO,QAAQ,CAAE,KAAKb,mBAAtB,CAA2C,KAAK,CAAE,KAAKX,KAAL,CAAWM,OAA7D,CAAsE,WAAW,CAAC,wBAAlF,EATJ,CAFJ,CAaI,oBAAC,WAAD,MACI,oBAAC,UAAD,MACI,oBAAC,wBAAD,EAA0B,SAAS,CAAC,QAApC,CAA6C,MAAM,CAAE,KAAKN,KAAL,CAAWE,gBAAhE,CAAkF,MAAM,CAAE,KAAKO,kBAA/F,EACI,oBAAC,cAAD,EAAgB,KAAK,KAArB,kBADJ,CAII,oBAAC,YAAD,EAAc,SAAS,CAAC,gBAAxB,EACMoB,KAAK,CAACC,GAAN,CAAU,SAAAC,IAAI,QACR,qBAAC,YAAD,EAAc,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACvB,QAAL,CAAc,CAAEJ,WAAW,CAAE2B,IAAf,CAAd,CAAN,EAAvB,CAAmE,GAAG,CAAEA,IAAI,CAACT,OAA7E,EAAuFS,IAAI,CAACC,KAA5F,CADQ,EAAd,CADN,CAJJ,CADJ,CAYI,oBAAC,KAAD,EAAO,QAAQ,KAAf,CAAgB,KAAK,CAAE5B,WAAW,CAAGA,WAAW,CAAC4B,KAAf,CAAuB,EAAzD,EAZJ,CADJ,CAgBI,oBAAC,UAAD,MACI,oBAAC,wBAAD,EAA0B,SAAS,CAAC,QAApC,CAA6C,MAAM,CAAE,KAAKhC,KAAL,CAAWG,qBAAhE,CAAuF,MAAM,CAAE,KAAKO,uBAApG,EACI,oBAAC,cAAD,EAAgB,KAAK,KAArB,uBADJ,CAII,oBAAC,YAAD,EAAc,SAAS,CAAC,gBAAxB,EAEQN,WAAW,CAAGA,WAAW,CAAC6B,UAAZ,CAAuBH,GAAvB,CAA2B,SAACL,SAAD,CAAYS,KAAZ,QACrC,qBAAC,YAAD,EAAc,GAAG,CAAEA,KAAnB,CAA0B,OAAO,CAAE,yBAAM,CAAA,MAAI,CAAC1B,QAAL,CAAc,CAAEH,gBAAgB,CAAEoB,SAApB,CAAd,CAAN,EAAnC,EACKA,SADL,CADqC,EAA3B,CAAH,CAKT,oBAAC,YAAD,EAAc,QAAQ,KAAtB,wBAPV,CAJJ,CADJ,CAgBI,oBAAC,MAAD,EAAQ,SAAS,CAAC,MAAlB,CAAyB,OAAO,CAAE,KAAKV,YAAvC,CAAqD,KAAK,CAAC,WAA3D,UAhBJ,CAhBJ,CAbJ,CAFJ,CADA,CAuDE,C,0BAxGiB3B,S,EA2G3B,cAAeW,CAAAA,YAAf","sourcesContent":["import React, { Component } from 'react'\nimport {\n    Modal,\n    ModalBody,\n    ModalFooter,\n    InputGroup,\n    InputGroupButtonDropdown,\n    Input,\n    Button,\n    DropdownToggle,\n    DropdownMenu,\n    DropdownItem\n   } from 'reactstrap';\n\nclass NewPostModal extends Component {\n    state = {\n        modal: false,\n        bookDropdownOpen: false,\n        highlightDropdownOpen: false,\n        bookToShare: null,\n        highlightToShare: \"\",\n        comment: \"\"\n    }\n\n    openPostModal = () => {\n        this.setState({ modal: !this.state.modal });\n    }\n\n    toggleBookDropDown = () => {\n        this.setState({ bookDropdownOpen: !this.state.bookDropdownOpen })\n    }\n    toggleHighlightDropDown = () => {\n        this.setState({ highlightDropdownOpen: !this.state.highlightDropdownOpen });\n    }\n\n    handleCommentChange = e => {\n        this.setState({ comment: e.target.value });\n    }\n\n    handleSubmit = e => {\n        e.preventDefault();\n        // send the post to database!\n        const newPost = {\n            username: this.props.user.name,\n            book_id: this.state.bookToShare.book_id,\n            highlight_author: this.state.bookToShare.author,\n            highlight: this.state.highlightToShare,\n            comment: this.state.comment\n        }\n        this.props.addPost(newPost);\n\n        this.setState({\n            bookToShare: null,\n            highlightToShare: \"\",\n            comment: \"\",\n            modal: false\n        })\n        console.log(newPost);\n    }\n\n    render(){\n        const books = this.props.books;\n        const { bookToShare, highlightToShare } = this.state;\n        return (\n        <div>\n            <Button color=\"warning\" onClick={this.openPostModal}>Share insight</Button>\n            <Modal isOpen={this.state.modal} toggle={this.openPostModal}>\n                {/* <ModalHeader toggle={this.openPostModal}>Title</ModalHeader> */}\n                <ModalBody>   \n                        <blockquote>\n                            { bookToShare ? \n                                <div>\n                                    <p className=\"highlight\">{highlightToShare}</p>\n                                    <footer>- {bookToShare.author}</footer>\n                                </div>\n                                : null }\n                        </blockquote>\n                    <Input onChange={this.handleCommentChange} value={this.state.comment} placeholder=\"Share your thoughts...\" />\n                </ModalBody>\n                <ModalFooter>\n                    <InputGroup>\n                        <InputGroupButtonDropdown addonType=\"append\" isOpen={this.state.bookDropdownOpen} toggle={this.toggleBookDropDown}>\n                            <DropdownToggle caret>\n                                Choose a Book\n                            </DropdownToggle>\n                            <DropdownMenu className=\"drop-down-menu\">\n                                { books.map(book => (\n                                        <DropdownItem onClick={() => this.setState({ bookToShare: book })} key={book.book_id}>{book.title}</DropdownItem>\n                                    ))\n                                }\n                            </DropdownMenu>\n                        </InputGroupButtonDropdown>\n                        <Input readOnly value={bookToShare ? bookToShare.title : \"\"} />\n                    </InputGroup>\n\n                    <InputGroup>\n                        <InputGroupButtonDropdown addonType=\"append\" isOpen={this.state.highlightDropdownOpen} toggle={this.toggleHighlightDropDown}>\n                            <DropdownToggle caret>\n                                Choose a Highlight\n                            </DropdownToggle>\n                            <DropdownMenu className=\"drop-down-menu\" >\n                                {\n                                    bookToShare ? bookToShare.highlights.map((highlight, index) => (\n                                        <DropdownItem key={index} onClick={() => this.setState({ highlightToShare: highlight })} >\n                                            {highlight}\n                                        </DropdownItem>\n                                    )) \n                                    : <DropdownItem disabled>Choose a book first</DropdownItem>\n                                }\n                            </DropdownMenu>\n                        </InputGroupButtonDropdown>\n                        <Button className=\"ml-3\" onClick={this.handleSubmit} color=\"secondary\">Share</Button>\n                    </InputGroup>\n                </ModalFooter>\n            </Modal>\n\n            \n        </div>\n        )}\n  }\n\nexport default NewPostModal;"]},"metadata":{},"sourceType":"module"}